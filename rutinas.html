<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Rutinas - ControlGym</title>
<style>
body { font-family: Arial; margin:0; padding:0; background:#f4f4f4; }
header { background:#007bff; color:white; text-align:center; padding:15px; font-size:1.5em; font-weight:bold; }
.rutina { position: relative; margin:10px auto; max-width:500px; border-radius:10px; overflow:hidden; cursor:pointer; }
.rutina img { width:100%; opacity:0.4; display:block; }
.rutina .titulo { position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); font-weight:bold; font-size:1.2em; color:#000; text-align:center; }
.check { position:absolute; top:5px; right:5px; background:#28a745; color:white; font-weight:bold; padding:4px 6px; border-radius:50%; font-size:0.8em; }
#volver { display:block; width:100%; max-width:500px; margin:10px auto; text-align:center; background:#007bff; color:white; padding:8px; text-decoration:none; border-radius:5px;}
</style>
</head>
<body>
<header>Rutinas</header>
<div id="rutinas"></div>
<a id="volver" href="index.html">Volver al calendario</a>
<script>
const rutinasData = [
  {titulo:"Pecho, bíceps y abdominales", imagen:"https://source.unsplash.com/600x400/?bench-press"},
  {titulo:"Espalda y tríceps", imagen:"https://source.unsplash.com/600x400/?pullup"},
  {titulo:"Hombros, trapecio y piernas", imagen:"https://source.unsplash.com/600x400/?squat"},
  {titulo:"Pecho y bíceps", imagen:"https://source.unsplash.com/600x400/?gym"},
  {titulo:"Espalda y tríceps", imagen:"https://source.unsplash.com/600x400/?lat-pulldown"},
  {titulo:"Rodillas", imagen:"https://source.unsplash.com/600x400/?leg"}
];

const params = new URLSearchParams(window.location.search);
const fecha = params.get('fecha');
const data = JSON.parse(localStorage.getItem('gymData')||'{}');
const cont = document.getElementById('rutinas');

rutinasData.forEach((r,i)=>{
  const div = document.createElement('div');
  div.className='rutina';
  div.innerHTML = `<img src="${r.imagen}"><div class="titulo">${r.titulo}</div>`;
  if(data[fecha] && data[fecha][i]) {
    const check = document.createElement('div');
    check.className='check';
    check.textContent='✓';
    div.appendChild(check);
  }
  div.addEventListener('click', ()=>window.location.href=`ejercicio.html?fecha=${fecha}&rutina=${i}`);
  cont.appendChild(div);
});
</script>
</body>
</html>
